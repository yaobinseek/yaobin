<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 运动测试 & 资料查找助手</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; background-color: #f8f9fa; }
        .container { width: 80%; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        button { padding: 10px; margin-top: 10px; cursor: pointer; }
        video { width: 100%; max-width: 400px; display: none; margin-top: 10px; }
        .test-container { display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .test-container img { width: 400px; display: block; margin: 20px auto; }
    </style>
</head>
<body>
    <h1>AI 运动测试 & 资料查找助手</h1>

    <!-- 运动测试部分 -->
    <div class="container">
        <h2>课前运动测试</h2>
        <label>姓名: <input type="text" id="name"></label>
        <label>号数: <input type="number" id="age"></label>
        <label>测试项目:
            <select id="testType" onchange="displayTestContent()">
                <option value="">请选择测试</option>
                <option value="balance">单脚平衡测试</option>
                <option value="jump">跳跃能力测试</option>
                <option value="reaction">反应测试</option>
            </select>
        </label>
        <button onclick="startTest()">开始测试</button>
        <canvas id="resultChart"></canvas>
        
        <!-- 单脚平衡测试 图片 & 说明 -->
        <div id="balanceTest" class="test-container" style="display:none;">
            <img src="danjiao.png" alt="单脚站立测试示意图">
            <p>单脚站立测试：请保持单脚站立30秒不动。</p>
            <label>成绩（秒）: <input type="number" id="balanceScore"></label>
        </div>
        
        <!-- 立定跳远测试 图片 & 说明 -->
        <div id="jumpTest" class="test-container" style="display:none;">
            <img src="liding.png" alt="立定跳远测试示意图">
            <p>立定跳远测试：站在起跳线后，双脚起跳，记录跳跃距离。</p>
            <label>成绩（米）: <input type="number" id="jumpScore"></label>
        </div>
        
        <!-- 反应测试 游戏 -->
        <div id="reactionTest" class="test-container" style="display:none;">
            <p>请在光点消失前点击它，测测你的反应速度！</p>
            <button id="reactionButton" onclick="testReaction()" style="font-size: 20px; padding: 10px;">点击开始</button>
            <p id="reactionResult"></p>
            <label>成绩（毫秒）: <input type="number" id="reactionScore"></label>
        </div>
    </div>

    <!-- 资料查找助手 -->
    <div class="container">
        <h2>AI 资料查找助手</h2>
        <label>输入学习主题:
            <input type="text" id="searchTopic" placeholder="如: 高压电逃生">
        </label>
        <button onclick="aiSearch()">获取AI推荐搜索方向</button>
        <div id="searchResults"></div>
    </div>

    <script>
        function displayTestContent() {
            let testType = document.getElementById("testType").value;
            document.getElementById("balanceTest").style.display = (testType === "balance") ? "flex" : "none";
            document.getElementById("jumpTest").style.display = (testType === "jump") ? "flex" : "none";
            document.getElementById("reactionTest").style.display = (testType === "reaction") ? "flex" : "none";
        }

        function startTest() {
            let name = document.getElementById("name").value;
            let age = document.getElementById("age").value;
            let testType = document.getElementById("testType").value;
            
            if (!name || !age || !testType) {
                alert("请填写完整信息并选择测试类型！");
                return;
            }
            
            let scores = { balance: 8, jump: 6, reaction: 9 };
            let ctx = document.getElementById("resultChart").getContext("2d");
            new Chart(ctx, {
                type: "bar",
                data: {
                    labels: ["平衡", "跳跃", "反应"],
                    datasets: [{
                        label: name + "的测试结果",
                        data: [scores.balance, scores.jump, scores.reaction],
                        backgroundColor: ["red", "blue", "green"]
                    }]
                }
            });
        }

        function testReaction() {
            let startTime = Date.now();
            document.getElementById("reactionButton").textContent = "等待光点...";
            setTimeout(() => {
                document.getElementById("reactionButton").textContent = "点我！";
                document.getElementById("reactionButton").onclick = () => {
                    let reactionTime = Date.now() - startTime;
                    document.getElementById("reactionResult").textContent = `你的反应时间: ${reactionTime} 毫秒！`;
                };
            }, Math.random() * 3000 + 1000);
        }

        function aiSearch() {
            let topic = document.getElementById("searchTopic").value;
            if (!topic) {
                alert("请输入学习主题！");
                return;
            }
            
            let suggestions = {
                "高压电逃生": ["安全逃生方法", "跨步电压", "触电自救", "紧急避险"],
                "单脚平衡训练": ["稳定性训练", "核心肌群", "跳跃技巧", "运动康复"]
            };
            
            let results = suggestions[topic] || ["请尝试其他关键词..."];
            document.getElementById("searchResults").innerHTML = "<h3>推荐搜索方向:</h3><ul>" + results.map(r => `<li>${r}</li>`).join("") + "</ul>";
        }
    </script>
</body>
</html>
